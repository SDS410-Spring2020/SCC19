---
title: "jeny_workspace"
author: "Jeny Kwon"
date: "4/11/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(rvest)
library(glue)
library(RCurl) 
```

```{r}
url <- read_html("https://www.smith.edu/president-kathleen-mccartney/letters-community")

links <- url %>% 
  html_nodes(".field-item") %>%   
  html_nodes("li") %>% 
  html_nodes("a") %>% 
  html_attr("href")
```

```{r}
  
links_clean <- links %>% 
  str_replace("https://www.smith.edu", "") 
  
```

```{r}
years = c("2019-20", "2018-19", "2017-18")

links_years <- links_clean[!links_clean %in% grep(paste0(years, collapse = "|"), links_clean, value = T, invert = T)]

```

```{r}
links_url <- paste("https://www.smith.edu", links_years,  sep="")

links_actual
```

```{r}
links_actual <- links_url[url.exists(links_url)]

links_actual
```



```{r}
#pdf_names <- glue("report_1.pdf")
#walk2(links_actual, pdf_names, download.file, mode="wb")
```

